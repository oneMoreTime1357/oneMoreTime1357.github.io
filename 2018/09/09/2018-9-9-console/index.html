<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> 有意思的Console · MissYang</title><meta name="description" content="有意思的Console - Sunny Yang"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="http://yikeshu.info/atom.xml" title="MissYang"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/favicon-logo.png" alt="logo"><span>Sunny Yang</span></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="https://github.com/oneMoreTime1357" target="_blank" class="nav-list-link">GITHUB</a></li><li class="nav-list-item"><a href="https://www.jianshu.com/u/459674901bd7" target="_blank" class="nav-list-link">JANSHU</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">有意思的Console</h1><div class="post-info">Sep 9, 2018</div><div class="post-content"><p>看到了一篇文章觉得很有意思<br>原文是<strong><a href="https://medium.freecodecamp.org/how-you-can-improve-your-workflow-using-the-javascript-console-bdd7823a9472" target="_blank" rel="noopener">How you can improve your workflow using the JavaScript console</a></strong> 作者列举了Console的其他用法，算我孤陋寡闻了，平常Debug时只使用<code>Console.log</code>，看了这篇文章才知道有那么多有意思的方法，下面介绍给大家。<br><a id="more"></a></p>
<h2 id="什么是Console"><a href="#什么是Console" class="headerlink" title="什么是Console"></a>什么是Console</h2><p>JavaScript console 是现在浏览器的一个特性，它可以为开发者提供</p>
<ul>
<li>在网页上查看错误日志和警告日志</li>
<li>使用JS命令与网页交互</li>
<li>在浏览器中直接Debug项目访问DOM</li>
<li>分析网络活动</li>
</ul>
<p>基本上在浏览器里它授权你写，管理和监听JavaScript是否正确</p>
<h3 id="Console-log-Console-error-Console-warn-and-Console-info"><a href="#Console-log-Console-error-Console-warn-and-Console-info" class="headerlink" title="Console.log, Console.error, Console.warn and Console.info"></a>Console.log, Console.error, Console.warn and Console.info</h3><p>这些是最常见的方法，你可以传递多个参数，每个参数都被计算并连接到一个由空格分隔的字符串中，但是objec对象和array数组例外，它们是通过属性进行分隔。<br><img src="http://oybj22zxs.bkt.clouddn.com/screenshot1.png" alt="screenshot1"></p>
<h3 id="Console-group"><a href="#Console-group" class="headerlink" title="Console.group"></a>Console.group</h3><p>这个方法允许你将一系列的console.log进行分组（包括 error info 等），在这个组中可以进行折叠。语法也非常简单，</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">function doSomthing (parm) &#123;</span><br><span class="line">	console.group(&apos;group start&apos;)</span><br><span class="line">	console.log(&apos;date print&apos;, new Date())</span><br><span class="line">	console.log(123)</span><br><span class="line">	console.groupEnd()</span><br><span class="line">	console.log(&apos;out the group&apos;)</span><br><span class="line">&#125;</span><br><span class="line">doSomthing()</span><br></pre></td></tr></table></figure>
<p>结果如下：</p>
<p><img src="http://oybj22zxs.bkt.clouddn.com/screenshot2.png" alt="screenshot2"></p>
<h3 id="Console-table"><a href="#Console-table" class="headerlink" title="Console.table"></a>Console.table</h3><p>当遇到特别大的JSON和数组时<code>console.log</code>打印出来很糟糕，<code>console.table</code>可以让我们看到可视化的数据结构，还可以命名列表的名字只需要传递参数进去。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">const typeConsole = [</span><br><span class="line">    &#123;name: &apos;log&apos;, type: &apos;standard&apos;&#125;,</span><br><span class="line">    &#123;name: &apos;info&apos;, type: &apos;standard&apos;&#125;,</span><br><span class="line">    &#123;name: &apos;table&apos;, type: &apos;wwwwowww&apos;&#125;</span><br><span class="line">]</span><br><span class="line">console.table(typeConsole)</span><br><span class="line">const mySocial = &#123;</span><br><span class="line">	facebook: true,</span><br><span class="line">	linkedin: true,</span><br><span class="line">	weibo: false,</span><br><span class="line">	meduim: false</span><br><span class="line">&#125;</span><br><span class="line">console.table(mySocial, [&quot;Social&quot;, &quot;have Account&quot;])</span><br></pre></td></tr></table></figure>
<p>结果输出如下<br><img src="http://oybj22zxs.bkt.clouddn.com/screenshot3.png" alt="screenshot3"></p>
<p>第二种打印的方法并没有在列的标题上展示我自定义的文字。</p>
<h3 id="Console-count-Console-time-and-Console-timeEnd"><a href="#Console-count-Console-time-and-Console-timeEnd" class="headerlink" title="Console.count, Console.time and Console.timeEnd"></a>Console.count, Console.time and Console.timeEnd</h3><p>对于每个开发者在debug时，这三个方法就像是瑞士军刀一样好用。<code>console.count</code>统计并输出相同的标签被执行多少次。<code>console.time</code>以指定参数的名称作为开始计时器，并且可以在给定页面上同时运行10,000个计时器。我们可以使用<code>console.timeEnd</code>停止计时器并在控制台打印出收集的时间。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">console.time(&apos;time start&apos;)</span><br><span class="line">console.time(&apos;init arr&apos;)</span><br><span class="line">const arr = new Array(20)</span><br><span class="line">console.timeEnd(&apos;init arr&apos;)</span><br><span class="line"></span><br><span class="line">for (var i = 0; i &lt; arr.length; i++)&#123;</span><br><span class="line">	arr[i] = new Object()</span><br><span class="line">	const _type = (i %2 === 0) ? &apos;even &apos; : &apos;odd &apos;</span><br><span class="line">	console.count(_type + &apos;added&apos;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">console.timeEnd(&apos;time start&apos;)</span><br></pre></td></tr></table></figure>
<p>输出如下：<img src="http://oybj22zxs.bkt.clouddn.com/screenshot4.png" alt="screenshot4"></p>
<h3 id="Console-trace-and-Console-assert"><a href="#Console-trace-and-Console-assert" class="headerlink" title="Console.trace and Console.assert"></a>Console.trace and Console.assert</h3><p>这些方法只是简单的从调用它的地方打印堆栈跟踪。想象一下在创建JS库的时候想知道用户什么时候会触发这个error。在这种情况下这个方法很管用。<code>console.assert</code>和<code>console.trace</code>很像，但是只在条件不满足时才执行。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">function lesserThan (a, b) &#123;</span><br><span class="line">	console.assert(a &lt; b, &#123;&quot;message&quot;: &quot;a is not lesser than b&quot;, &quot;a&quot;: a, &quot;b&quot;: b&#125;)</span><br><span class="line">&#125;</span><br><span class="line">lesserThan(6,5)</span><br><span class="line">console.trace(&apos;enddd&apos;)</span><br></pre></td></tr></table></figure>
<p>输出如下：当输入6，5时</p>
<p><img src="http://oybj22zxs.bkt.clouddn.com/screenshot.png" alt="screenshot"></p>
<h3 id="删除所有的Consoles"><a href="#删除所有的Consoles" class="headerlink" title="删除所有的Consoles"></a>删除所有的Consoles</h3><p>使用完console之后经常需要我们清除它们。有时我们忘了清除直接发到了生产环境（经过了好长时间才注意到）。当然也不建议滥用console在不需要的地方（当控制台得出正确的结果最好将它删除），把错误日志和trace日志保留在开发环境帮助debug。作者经常使用Webpack在工作中或者自己的项目中。这有一个工具可以删除所有你不需要的console在生产环境构建的时候，它是<a href="https://github.com/webpack-contrib/uglifyjs-webpack-plugin" target="_blank" rel="noopener">uglifyjs-webpack-plugin</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">const UglifyJsPlugin = require(&apos;uglifyjs-webpack-plugin&apos;)</span><br><span class="line">var debug = process.env.NODE_ENV !== &quot;production&quot;;</span><br><span class="line"></span><br><span class="line">.....</span><br><span class="line">optimization: &#123;</span><br><span class="line">        minimizer: !debug ? [</span><br><span class="line">            new UglifyJsPlugin(&#123;</span><br><span class="line">                // Compression specific options</span><br><span class="line">                uglifyOptions: &#123;</span><br><span class="line">                    // Eliminate comments</span><br><span class="line">                    comments: false,</span><br><span class="line">                    compress: &#123;</span><br><span class="line">                       // remove warnings</span><br><span class="line">                       warnings: false,</span><br><span class="line">                       // Drop console statements</span><br><span class="line">                       drop_console: true</span><br><span class="line">                    &#125;,</span><br><span class="line">                &#125;</span><br><span class="line">           &#125;)] : []</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>又增多了几个debug的技能，技术之路探索永不止息。<br>跟着作者的节奏打开浏览器控制台，跟着上面的代码进行操练吧，就会掌握这种调试技巧。</p>
</div></article></div></main><footer><div class="paginator"><a href="/2018/10/17/js-补零的方法/" class="prev">PREV</a><a href="/2018/08/05/understand-promise/" class="next">NEXT</a></div><div id="disqus_thread"></div><script>var disqus_shortname = 'http-yikeshu-info';
var disqus_identifier = '2018/09/09/2018-9-9-console/';
var disqus_title = '有意思的Console';
var disqus_url = 'http://yikeshu.info/2018/09/09/2018-9-9-console/';
(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();</script><script id="dsq-count-scr" src="//http-yikeshu-info.disqus.com/count.js" async></script><div class="copyright"><p>© 2017 - 2018 <a href="http://yikeshu.info">Sunny Yang</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/oneMoreTime1357/hexo-theme-apollo" target="_blank">hexo-theme-apollo</a>.</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous"></script></body></html>