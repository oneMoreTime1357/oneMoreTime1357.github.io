<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> Web分享到Twitter、Facebook、微信、微博 · MissYang</title><meta name="description" content="Web分享到Twitter、Facebook、微信、微博 - Sunny Yang"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="http://yikeshu.info/atom.xml" title="MissYang"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/favicon-logo.png" alt="logo"><span>Sunny Yang</span></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="https://github.com/oneMoreTime1357" target="_blank" class="nav-list-link">GITHUB</a></li><li class="nav-list-item"><a href="https://www.jianshu.com/u/459674901bd7" target="_blank" class="nav-list-link">JANSHU</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">Web分享到Twitter、Facebook、微信、微博</h1><div class="post-info">Jun 10, 2018</div><div class="post-content"><p>分享是为了更好的传播，尤其是做业务平台网站的，传播是自然的事情，而且要和国际化接轨，就要能分享到Facebook、Twitter这样的网站，在中国这片土地上使用最多的就是微信了，所以微信也是一个很好的传播平台，但是自定义标题和缩略图在现在的微信是没有办法做到了。<br><a id="more"></a></p>
<h2 id="分享到微信"><a href="#分享到微信" class="headerlink" title="分享到微信"></a>分享到微信</h2><h4 id="微信内分享"><a href="#微信内分享" class="headerlink" title="微信内分享"></a>微信内分享</h4><p>不知有没有发现，自己的网站链接有时候分享到微信群中，发到朋友圈，右下角的缩略图没了。之前以为是没有集成JSSDK，但做了一个微信公众号的项目，集成了JSSDK，发现有的页面按照之前在body的最上方添加一张隐藏的默认图片形式也不行了，只有使用JSSDK中的分享方法，主动设置分享icon和标题才有作用。</p>
<p>网上查找才发现，微信6.5.5版本调整了分享规则，针对公众号的网页分享，必须接入微信认证公众号！<br><a href="https://mp.weixin.qq.com/s/hAdtKl2i4ilyo9HxT1kXyw" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/hAdtKl2i4ilyo9HxT1kXyw</a></p>
<p>所以没有接入JSSDK的网站想要在微信中分享自定义标题和icon是没有希望了。<br>想要在微信中传播自定义标题和缩略图就要乖乖的集成JSSDK，按照规则分享吧:)</p>
<h4 id="从浏览器分享到微信"><a href="#从浏览器分享到微信" class="headerlink" title="从浏览器分享到微信"></a>从浏览器分享到微信</h4><p>在浏览器打开后，点击浏览器自带的分享图标，选择<strong>微信</strong>，这种方式获取缩略图的方法：<br>需要在head头部添加<a href="http://ogp.me/" target="_blank" rel="noopener">Open Graph Meta Data</a></p>
<pre><code>&lt;meta property=&quot;og:type&quot; content=&quot;website&quot; /&gt;
&lt;meta property=&quot;og:title&quot; content=&quot;页面标题&quot;&gt;
&lt;meta property=&quot;og:description&quot; content=&quot;页面描述&quot;&gt;
&lt;meta property=&quot;og:image&quot; content=&quot;http://www.example.com/img/thumbnail.png&quot;&gt;
&lt;meta property=&quot;og:url&quot; content=&quot;http://www.example.com/&quot;&gt;
</code></pre><p>其中og:image是完整的URL，最好不要太大，毕竟是缩略图<br>亲测这种方式可以实现从手机浏览器分享到微信可定制缩略图和title。</p>
<p><strong>注意</strong><br>坑还在后面，如果分享的自定义的title中包含<strong>现金</strong>、<strong>提现</strong>、<strong>红包</strong>等这类关键字是分享不出去的，坑啊……所以我们改为繁体字之后就可以了，如果一定要用这类字就先用繁体字代替吧，要不然就换成别的吧。</p>
<h2 id="分享到-Facebook-amp-Twitter-amp-微博"><a href="#分享到-Facebook-amp-Twitter-amp-微博" class="headerlink" title="分享到 Facebook &amp; Twitter &amp; 微博"></a>分享到 Facebook &amp; Twitter &amp; 微博</h2><p>web页面想要分享到Facebook、Twitter和微博，简单的是需要在按钮写个a标签，将分享链接自定义，点击之后就可以跳到一个它们提供的外部分享页面，分享了。</p>
<h4 id="Weibo"><a href="#Weibo" class="headerlink" title="Weibo"></a>Weibo</h4><p>web微博分享直接在按钮上添加个a标签，直接调用微博开放出来的分享链接就可以了。标题和url都可以根据自己的需求填写。</p>
<pre><code>&lt;a href=&quot;http://service.weibo.com/share/share.php?appkey=&amp;title=填上你的标题&amp;url=http://example.com&amp;searchPic=false&amp;style=simple&quot; target=&quot;_blank&quot;&gt;Weibo&lt;/a&gt;
</code></pre><h4 id="Facebook"><a href="#Facebook" class="headerlink" title="Facebook"></a>Facebook</h4><p>web页面分享到Facebook也可以直接使用链接跳转。</p>
<pre><code>&lt;a href=&quot;https://www.facebook.com/sharer.php?title=填上你的标题&amp;u=http://example.com&quot; target=&quot;_blank&quot;&gt;Facebook&lt;/a&gt;
</code></pre><p>但是Facebook自定义title不管用，它自己有抓取目标页面代码的一套规则，对html中的<title>和<meta>标签进行分析。一般来说<title>会作为要分享的标题，<meta name="description" content="">会作为分享的正文。这是最基本的两个抓取点。<br><strong>注意</strong><br>抓取的内容是从服务端返回的html代码，由js操作后的html抓取不到。</title></title></p>
<p>所以想要Facebook分享能有图片和页面的标题，需要提前将meta中的og定义好，注意og:image中图片（完整url）的尺寸大小，最小不要小于200 x 200px，太小了也抓取不到。还有两种尺寸的图片大小，1200 x 630px 或者 600 x 315 根据自己的需要生成吧，而且图片需要在国外能很好的加载出来，我们使用的是七牛的链接，发现七牛的图片链接在国外支持的不太好，有时候会访问失败。<br><a href="https://developers.facebook.com/docs/sharing/best-practices#crawl" target="_blank" rel="noopener">Facebook share best practices</a></p>
<p>如果是简单的web分享，使用上面的分享链接就可以了，Facebook ID也没有必要去申请，如果想要在本页面中弹出弹窗分享链接，可以申请个Facebook app创建一个APP ID，要求不高一个链接完全就可以了。</p>
<p>没有抓取到设计的图片和标题，检测一下图片的链接和og中设置title和image对不对，记住js修改的抓取不到哦，其他的应该就没什么问题了</p>
<h4 id="Twitter"><a href="#Twitter" class="headerlink" title="Twitter"></a>Twitter</h4><p>web分享到Twitter，也可以直接使用分享链接，直接放到代码中就可以了。</p>
<pre><code>&lt;a href=&quot;https://twitter.com/share?text=填上你的标题&amp;url=http://example.com&quot; target=&quot;_blank&quot;&gt;Twitter&lt;/a&gt;
</code></pre><p>如果想要使用Twitter分享带图片的链接，生成Twitter Cards的形式，需要在meta中添加图片的大小，<a href="https://developer.twitter.com/en/docs/tweets/optimize-with-cards/guides/getting-started" target="_blank" rel="noopener">官方文档Twitter cards</a></p>
<pre><code>&lt;meta name=&quot;twitter:card&quot; content=&quot;summary&quot;&gt;&lt;/meta&gt;
</code></pre><p>同样cards上的title、描述和图片也是抓取og中定义的title、description和image，提前在meta中定义好。</p>
<p><strong>注意</strong><br>Twitter也是只能抓取服务端返回的html，后来用js修改的meta抓取不到。</p>
<hr>
<p>Facebook分享调试工具<br><a href="https://developers.facebook.com/tools/debug/sharing/" target="_blank" rel="noopener">https://developers.facebook.com/tools/debug/sharing/</a></p>
<hr>
<p><strong>参考链接</strong><br><a href="https://doterlin.github.io/blog/2017/01/07/fb-share/" target="_blank" rel="noopener">web分享到Facebook、Twitter</a></p>
<p><a href="https://flniu.github.io/blog/2017/03/14/wechat-share-link-thumbnail/#%E6%96%B9%E6%B3%95%E4%B8%80%E5%9C%A8%E9%A1%B5%E9%9D%A2-body-%E6%9C%80%E4%B8%8A%E6%96%B9%E6%B7%BB%E5%8A%A0-300300-%E5%83%8F%E7%B4%A0%E7%9A%84-img" target="_blank" rel="noopener">微信分享没缩略图</a><br>注意：在body上添加图片已经失效。</p>
<p><a href="https://blog.csdn.net/qq_34543438/article/details/78254682" target="_blank" rel="noopener">微信分享没有缩略图</a></p>
<p>Facebook &amp; Twitter分享meta tag规则定义<br><a href="https://blog.kissmetrics.com/open-graph-meta-tags/" target="_blank" rel="noopener">What You Need to Know About Open Graph Meta Tag……</a></p>
</div></article></div></main><footer><div class="paginator"><a href="/2018/07/14/解锁Vue-multiple-application/" class="prev">PREV</a><a href="/2018/04/26/算法图解/" class="next">NEXT</a></div><div id="disqus_thread"></div><script>var disqus_shortname = 'http-yikeshu-info';
var disqus_identifier = '2018/06/10/Facebook、Twitter分享/';
var disqus_title = 'Web分享到Twitter、Facebook、微信、微博';
var disqus_url = 'http://yikeshu.info/2018/06/10/Facebook、Twitter分享/';
(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();</script><script id="dsq-count-scr" src="//http-yikeshu-info.disqus.com/count.js" async></script><div class="copyright"><p>© 2017 - 2018 <a href="http://yikeshu.info">Sunny Yang</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/oneMoreTime1357/hexo-theme-apollo" target="_blank">hexo-theme-apollo</a>.</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous"></script></body></html>